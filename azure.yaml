# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

# azure.yaml
name: my-ai-agent-app
metadata:
  template: my-ai-agent-app

infra:
  provider: bicep
  path: infra
  module: main.bicep

services:
  web:
    project: ./src
    language: python
    host: appservice
    # Tell azd how to build & run the app
    module: app/app.py    # or app/main.py depending on your structure
    # Optional: additional env vars for the app
    env:
      # These will be set as App Service app settings
      - name: AZURE_AI_PROJECT_ENDPOINT
        value: ${AZURE_AI_PROJECT_ENDPOINT}
      - name: AZURE_AI_PROJECT_NAME
        value: ${AZURE_AI_PROJECT_NAME}
      - name: AZURE_AI_AGENT_NAME
        value: ${AZURE_AI_AGENT_NAME}